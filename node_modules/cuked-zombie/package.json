{
  "name": "cuked-zombie",
  "version": "1.0.4",
  "description": "use cucumber and acceptance tests with zombie",
  "main": "index.js",
  "directories": {
    "test": "tests"
  },
  "dependencies": {
    "glob": "~4.0.0",
    "lodash": "~2.4.1",
    "chai": "~1.9.1",
    "zombie": ">=2.0.0-alpha31",
    "css-tester": "0.0.8",
    "stringify-object": "~0.2.1"
  },
  "devDependencies": {
    "matchdep": "~0.3.0",
    "grunt": "~0.4.5",
    "grunt-contrib-jshint": "~0.10.0",
    "grunt-cucumber": "~0.2.3",
    "grunt-simple-mocha": "~0.4.0",
    "grunt-release": "~0.7.0"
  },
  "scripts": {
    "test": "grunt test"
  },
  "repository": {
    "type": "git",
    "url": "git://github.com/webforge-labs/cuked-zombie"
  },
  "keywords": [
    "cucumber",
    "zombie",
    "grunt"
  ],
  "author": {
    "name": "Philipp Scheit",
    "email": "p.scheit@ps-webforge.com"
  },
  "license": "MIT",
  "bugs": {
    "url": "https://github.com/webforge-labs/cuked-zombie/issues"
  },
  "homepage": "https://github.com/webforge-labs/cuked-zombie",
  "readme": "# cuked-zombie [![Build Status](https://travis-ci.org/webforge-labs/cuked-zombie.svg?branch=master)](https://travis-ci.org/webforge-labs/cuked-zombie)\n\nUse cucumber and zombie in your acceptance tests\n\n[Cucumber](https://github.com/cucumber/cucumber-js) is the Javascript reference-implementation for [Behaviour Driven Development](http://cukes.info/). Cucumber allows you to write acceptance tests at a higher abstraction level than unit tests.\n[Zombie](http://zombie.labnotes.org/) is a headless browser written in node, based on Contextify and JSDOM.\n\nCombined they are the best available system to acceptance test your web-application in a browser.\n\n## features\n\ncuked-zombie bridges the small gap between this libraries. It provides an api to infect your native cucumber steps. Infected cucumber steps have new (zombie-)features:\n\n  - chai exceptions (and other) will be automatically converted to cucumber failures\n  - you can pass arguments to your infected step definitions\n  - a bunch of tools that extend the behaviour of zombie (visiting Pages, sending Cookies, using jQuery from the tested site, etc)\n  - an easy integration with [CSSTester](https://github.com/webforge-labs/css-tester)\n  - the stack trace from assertions is shortened\n\nother features:\n\n  - a grunt task to run all or just single cucumber steps\n  - some convenient functions to manage different hosts your testing on\n\n## Usage\n\nTo use cucumber with zombie you need to infect your step definitions and create an infected world (a world that knows how to invoke zombie(s)).\n\n1. create a step definitions bootstrap and use it as the only stepDefinition in cucumber\n2. create your infected steps (they are compatible to native cucumber steps)\n3. run cucumber with the bootstrap or use the internal task `grunt cucumber`\n\n*For this example* it is assumed that your features are stored in `features/something.feature`. Your infected step definitions should be stored in files grouped by domain in: `tests/js/cucumber/domain-step-definitions.js`. For example: `tests/js/cucumber/database-step-definitions.js` includes all steps dealing with database stuff. Have a look at [tests/files/my-blog](https://github.com/webforge-labs/cuked-zombie/blob/master/tests/files/my-blog) for a full, working structure.\n\n### 1. creating a step definitions bootstrap \n\nWe need to create a native step definition for cucumber, which then infects the other step definitions and creates a new zombie world.\n\ncreate the file: `tests/js/cucumber/bootstrap.js` and fill in:\n\n```js\nmodule.exports = function() {\n  var cucumberStep = this;\n  var cukedZombie = require('cuked-zombie');\n\n  var infected = cukedZombie.infect(cucumberStep, {\n    world: worldOptions\n    steps: {\n      dir: __dirname\n    }\n  });\n};\n```\n\nwith this bootstrap config cuked-zombie will search for all files in `__dirname` (next to your bootstrap.js) with the glob: `*-step-definitions.js`. These found step definitions are called \"infected\" because cuked-zombie adds cool (zombie-)features to them.\n\n#### infected steps options\n\n`dir` should be an absolute path name, or something that glob() (from current pwd) and require() will find. So its best to use something relative to `__dirname`\n\n#### infected world options\n\nHere are some examples for the worldOptions:\n\n```js\nvar worldOptions = {\n  cli: // path to your symfony command line interface,\n  domains: {\n    // os.hostname(): domain\n    'my-server-name': 'staging.my-blog.com'\n  },\n  cookies: [{\n    name: 'staging_access',\n    value: 'tokenU1V2pUK'\n  }]\n};\n```\n\nIf you don't want to switch per `os.hostname()` you can provide a domain directly: \n\n```\n  domain: 'staging.my-blog.com'\n```\n\n### 2. creating an infected step\n\nbasically every cucumber step can be an infected step (they are backwards compatible, allthough doomed to die). Goto the `tests/js/cucumber` directory and create a node module like: `database-step-definitions.js`. The base content is just like this:\n\n```js\nmodule.exports = function() {\n\n  this.Given(..., function(callback) {\n\n  };\n  \n}\n```\n\nYou can paste the `this.Given/When/Then()` statements from the cucumber-js runner cli output.\n\n### 3. running cucumber\n\nThe easiest way is to run cucumber with the built in grunt task:\n\nGruntfile.js\n```js\n  grunt.loadNpmTasks('grunt-cucumber');\n  grunt.loadNpmTasks('cuked-zombie');\n\n  grunt.initConfig({\n    cucumberjs: {\n      // config for all features when called with: `grunt cucumber`\n      all: {\n        src: 'features',\n        options: {\n          steps: \"tests/js/cucumber/bootstrap.js\",\n          format: \"pretty\"\n        }\n      },\n\n      // config for single features when called with `grunt --filter some-feature`\n      features: {\n        src: 'features',\n        options: {\n          steps: \"tests/js/cucumber/bootstrap.js\",\n          format: \"pretty\"\n        }\n      }\n    }\n  });\n```\n\nThis needs [grunt-cucumber](https://github.com/s9tpepper/grunt-cucumber-js) installed, because cuked-zombie will use this task to run cucumber internally.\n\nuse \n```\ngrunt cucumber\n``` \n\nto run all tests or:\n\n```\ngrunt cucumber --filter post\n``` \n\nto run just the `post.feature` and `post-admin.feature`.\n",
  "readmeFilename": "README.md",
  "_id": "cuked-zombie@1.0.4",
  "_shasum": "155281769b4fb7ba38dc130a71af994335f69f6e",
  "_from": "cuked-zombie@",
  "_resolved": "https://registry.npmjs.org/cuked-zombie/-/cuked-zombie-1.0.4.tgz"
}
